{"version":3,"file":"react-katex.umd.js","sources":["../index.js"],"sourcesContent":["import React, { memo } from 'react';\nimport PropTypes from 'prop-types';\nimport KaTeX from 'katex';\n\nclass TeX extends React.Component {\n  constructor(props) {\n    super(props);\n    this.verifiedContent = ' ';\n  }\n\n  render() {\n    let html, error;\n    const props = this.props;\n    const verifiedContent = this.verifiedContent;\n    const otherProps = omit(\n      [\n        'children',\n        'math',\n        'block',\n        'errorColor',\n        'renderError',\n        'suppressError'\n      ],\n      props\n    );\n    const content = props.children || props.math;\n    const Component = props.block ? 'div' : 'span';\n    const settings = {\n      displayMode: !!props.block,\n      errorColor: props.errorColor,\n      throwOnError: !!props.renderError || props.suppressError\n    };\n\n    try {\n      html = KaTeX.renderToString(content, settings);\n      this.verifiedContent = content;\n    } catch (err) {\n      if (props.suppressError) {\n        html = KaTeX.renderToString(verifiedContent, settings);\n      } else {\n        if (err instanceof KaTeX.ParseError || err instanceof TypeError) {\n          error = err;\n        }\n      }\n\n      throw err;\n    }\n\n    if (!html && !error) return null;\n\n    return html ? (\n      <Component {...otherProps} dangerouslySetInnerHTML={{ __html: html }} />\n    ) : props.renderError ? (\n      props.renderError(error)\n    ) : (\n      <Component\n        {...otherProps}\n        dangerouslySetInnerHTML={{ __html: error.message }}\n      />\n    );\n  }\n}\n\nTeX.propTypes = {\n  children: PropTypes.string,\n  math: PropTypes.string,\n  block: PropTypes.bool,\n  errorColor: PropTypes.string,\n  renderError: PropTypes.func,\n  suppressError: PropTypes.bool\n};\n\nexport default memo(TeX);\n\nfunction omit(keys, obj) {\n  return Object.keys(obj).reduce(\n    (acc, key) => (keys.includes(key) ? acc : ((acc[key] = obj[key]), acc)),\n    {}\n  );\n}\n"],"names":["TeX","props","super","this","verifiedContent","render","let","html","error","otherProps","content","children","math","Component","block","settings","displayMode","errorColor","throwOnError","renderError","suppressError","KaTeX","renderToString","err","ParseError","TypeError","React","propTypes"],"mappings":"yZAIA,IAAMA,cACJ,WAAYC,GACVC,YAAMD,GACNE,KAAKC,gBAAkB,oGAGzBC,kBACEC,IAAIC,EAAMC,MACJP,EAAQE,KAAKF,MACbG,EAAkBD,KAAKC,gBACvBK,KACJ,CACE,WACA,OACA,QACA,aACA,cACA,mBAEFR,iFAEIS,EAAUT,EAAMU,UAAYV,EAAMW,KAClCC,EAAYZ,EAAMa,MAAQ,MAAQ,OAClCC,EAAW,CACfC,cAAef,EAAMa,MACrBG,WAAYhB,EAAMgB,WAClBC,eAAgBjB,EAAMkB,aAAelB,EAAMmB,eAG7C,IACEb,EAAOc,EAAMC,eAAeZ,EAASK,GACrCZ,KAAKC,gBAAkBM,QAChBa,GASP,MARItB,EAAMmB,cACRb,EAAOc,EAAMC,eAAelB,EAAiBW,IAEzCQ,aAAeF,EAAMG,YAAcD,aAAeE,aACpDjB,EAAQe,GAINA,EAGR,OAAKhB,GAASC,EAEPD,8EAEHN,EAAMkB,YACRlB,EAAMkB,YAAYX,uFALQ,SA5CdkB,EAAMb,oBA8DtBc,WACAhB,kBACAC,cACAE"}