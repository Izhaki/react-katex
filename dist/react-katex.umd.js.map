{"version":3,"file":"react-katex.umd.js","sources":["../index.js"],"sourcesContent":["import React, { memo } from 'react';\nimport PropTypes from 'prop-types';\nimport KaTeX from 'katex';\n\n/**\n * @typedef {object} TeXProps\n * @prop {string} [children]\n * @prop {string} [math]\n * @prop {boolean} [block]\n * @prop {string} [errorColor]\n * @prop {(error: TypeError|KaTeX.ParseError) => React.ReactElement} [renderError]\n *\n * Renders LaTeX math\n * @param {TeXProps} props\n * @return {React.ReactElement}\n */\nfunction TeX(props) {\n  const otherProps = omit(\n    ['children', 'math', 'block', 'errorColor', 'renderError'],\n    props\n  );\n  const Component = props.block ? 'div' : 'span';\n  const content = props.children || props.math;\n\n  try {\n    const html = KaTeX.renderToString(content, {\n      displayMode: !!props.block,\n      errorColor: props.errorColor,\n      throwOnError: !!props.renderError\n    });\n\n    return (\n      <Component {...otherProps} dangerouslySetInnerHTML={{ __html: html }} />\n    );\n  } catch (error) {\n    if (error instanceof KaTeX.ParseError || error instanceof TypeError) {\n      return props.renderError ? (\n        props.renderError(error)\n      ) : (\n        <Component\n          {...otherProps}\n          dangerouslySetInnerHTML={{ __html: error.message }}\n        />\n      );\n    }\n\n    throw error;\n  }\n}\n\nTeX.propTypes = {\n  children: PropTypes.string,\n  math: PropTypes.string,\n  block: PropTypes.bool,\n  errorColor: PropTypes.string,\n  renderError: PropTypes.func\n};\n\nexport default memo(TeX);\n\nfunction omit(keys, obj) {\n  return Object.keys(obj).reduce(\n    (acc, key) => (keys.includes(key) ? acc : ((acc[key] = obj[key]), acc)),\n    {}\n  );\n}\n"],"names":["TeX","props","const","otherProps","Component","block","content","children","math","html","KaTeX","renderToString","displayMode","errorColor","throwOnError","renderError","error","ParseError","TypeError","propTypes"],"mappings":"+TAgBA,SAASA,EAAIC,GACXC,QAAMC,KACJ,CAAC,WAAY,OAAQ,QAAS,aAAc,iBAC5CF,iFAEIG,EAAYH,EAAMI,MAAQ,MAAQ,OAClCC,EAAUL,EAAMM,UAAYN,EAAMO,KAExC,IACEN,IAAMO,EAAOC,EAAMC,eAAeL,EAAS,CACzCM,cAAeX,EAAMI,MACrBQ,WAAYZ,EAAMY,WAClBC,eAAgBb,EAAMc,cAGxB,yFAGOC,GACP,GAAIA,aAAiBN,EAAMO,YAAcD,aAAiBE,UACxD,OAAOjB,EAAMc,YACXd,EAAMc,YAAYC,mMAgBxBG,WACAZ,kBACAC"}