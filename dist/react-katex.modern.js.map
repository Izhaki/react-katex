{"version":3,"file":"react-katex.modern.js","sources":["../index.js"],"sourcesContent":["import React, { memo } from 'react';\nimport PropTypes from 'prop-types';\nimport KaTeX from 'katex';\n\nfunction TeX(props) {\n  const otherProps = omit(\n    [\n      'children',\n      'math',\n      'block',\n      'errorColor',\n      'renderError',\n      'settings',\n      'as',\n      'style'\n    ],\n    props\n  );\n  const Component = props.as || (props.block ? 'div' : 'span');\n  const displayStyle = props.as\n    ? { display: props.block ? 'block' : 'inline' }\n    : null;\n  const style = Object.assign({}, displayStyle, props.style);\n  const content = props.children || props.math;\n\n  try {\n    const html = KaTeX.renderToString(\n      content,\n      Object.assign(\n        {},\n        {\n          displayMode: !!props.block,\n          errorColor: props.errorColor,\n          throwOnError: !!props.renderError\n        },\n        // you can rewrite all KaTeX options directly\n        props.settings\n      )\n    );\n\n    return (\n      <Component\n        {...otherProps}\n        style={style}\n        dangerouslySetInnerHTML={{ __html: html }}\n      />\n    );\n  } catch (error) {\n    if (error instanceof KaTeX.ParseError || error instanceof TypeError) {\n      return props.renderError ? (\n        props.renderError(error)\n      ) : (\n        <Component\n          {...otherProps}\n          style={style}\n          dangerouslySetInnerHTML={{ __html: error.message }}\n        />\n      );\n    }\n\n    throw error;\n  }\n}\n\nTeX.propTypes = {\n  children: PropTypes.string,\n  math: PropTypes.string,\n  block: PropTypes.bool,\n  errorColor: PropTypes.string,\n  renderError: PropTypes.func,\n  settings: PropTypes.object,\n  as: PropTypes.elementType,\n  style: PropTypes.object\n};\n\nexport default memo(TeX);\n\nfunction omit(keys, obj) {\n  return Object.keys(obj).reduce(\n    (acc, key) => (keys.includes(key) ? acc : ((acc[key] = obj[key]), acc)),\n    {}\n  );\n}\n"],"names":["TeX","props","otherProps","keys","obj","Object","reduce","acc","key","includes","Component","as","block","style","assign","display","content","children","math","html","KaTeX","renderToString","displayMode","errorColor","throwOnError","renderError","settings","React","__html","error","ParseError","TypeError","message","propTypes","PropTypes","string","bool","func","object","elementType","memo"],"mappings":"+EAIA,SAASA,EAAIC,GACX,MAAMC,GAwEMC,EAvEV,CACE,WACA,OACA,QACA,aACA,cACA,WACA,KACA,SA+DcC,EA7DhBH,EA8DKI,OAAOF,KAAKC,GAAKE,OACtB,CAACC,EAAKC,KAASL,EAAKM,SAASD,KAAeD,EAAIC,GAAOJ,EAAII,IAAvBD,GACpC,KAHJ,IAAcJ,EAAMC,EA3DlB,MAAMM,EAAYT,EAAMU,KAAOV,EAAMW,MAAQ,MAAQ,QAI/CC,EAAQR,OAAOS,OAAO,GAHPb,EAAMU,GACvB,CAAEI,QAASd,EAAMW,MAAQ,QAAU,UACnC,KAC0CX,EAAMY,OAC9CG,EAAUf,EAAMgB,UAAYhB,EAAMiB,KAExC,IACE,MAAMC,EAAOC,EAAMC,eACjBL,EACAX,OAAOS,OACL,GACA,CACEQ,cAAerB,EAAMW,MACrBW,WAAYtB,EAAMsB,WAClBC,eAAgBvB,EAAMwB,aAGxBxB,EAAMyB,WAIV,OACEC,gBAACjB,mBACKR,SACGW,0BACkB,CAAEe,OAAQT,MAGvC,MAAOU,GACP,GAAIA,aAAiBT,EAAMU,YAAcD,aAAiBE,UACxD,OAAO9B,EAAMwB,YACXxB,EAAMwB,YAAYI,GAElBF,gBAACjB,mBACKR,SACGW,0BACkB,CAAEe,OAAQC,EAAMG,YAK/C,MAAMH,GAIV7B,EAAIiC,UAAY,CACdhB,SAAUiB,EAAUC,OACpBjB,KAAMgB,EAAUC,OAChBvB,MAAOsB,EAAUE,KACjBb,WAAYW,EAAUC,OACtBV,YAAaS,EAAUG,KACvBX,SAAUQ,EAAUI,OACpB3B,GAAIuB,EAAUK,YACd1B,MAAOqB,EAAUI,QAGnB,MAAeE,EAAKxC"}